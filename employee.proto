syntax = "proto3";

// При формировании package:
// - gitlab.ozon.ru заменяется на ozon
// - все "/" заменяются на "."
// - все "-" заменяются на "_"
package ozon.wms.go.service.employee;

// Подробнее про формирование go_package можно почитать здесь: https://developers.google.com/protocol-buffers/docs/reference/go-generated
// В go_package НЕ ПОЗВОЛЯЕТСЯ использовать "internal".
option go_package = "gitlab.ozon.ru/wms/go/service/employee/pb/employee";
option csharp_namespace = "Ozon.Wms.Go.Service.Employee";

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";
import "google/protobuf/empty.proto";
import "google/api/annotations.proto";
import "github.com/gogo/protobuf/gogoproto/gogo.proto";
import "github.com/envoyproxy/protoc-gen-validate/validate/validate.proto";

service Employee {
    rpc GetEmployee (GetEmployeeRequest) returns (GetEmployeeResponse);
    rpc BindTerminal (BindTerminalRequest) returns (BindTerminalResponse);
    rpc ReleaseTerminal (ReleaseTerminalRequest) returns (ReleaseTerminalResponse);
    rpc ReleaseUser (ReleaseUserRequest) returns (ReleaseUserResponse);
    rpc GetStoreTaskTypes (GetStoreTaskTypesRequest) returns (GetStoreTaskTypesResponse);
    rpc Login (LoginRequest) returns (LoginResponse) {
        option deprecated = true;
    };
    rpc GetTerminalSessionsWithFilter (GetTerminalSessionsWithFilterRequest) returns (GetTerminalSessionsWithFilterResponse);
    rpc CreateUserByOneC (CreateUserByOneCRequest) returns (CreateUserByOneCResponse);
    rpc UpdateUserByOneC (UpdateUserByOneCRequest) returns (UpdateUserByOneCResponse);

    rpc V1AddPermission (V1AddPermissionRequest) returns (V1AddPermissionResponse);
    rpc V1GetPermissions (V1GetPermissionsRequest) returns (V1GetPermissionsResponse);
    rpc V2GetPermissions (V2GetPermissionsRequest) returns (V2GetPermissionsResponse);
    rpc V1DeletePermission (V1DeletePermissionRequest) returns (V1DeletePermissionResponse);
    rpc V1EditPermission (V1EditPermissionRequest) returns (V1EditPermissionResponse);

    rpc V1AddRole (V1AddRoleRequest) returns (V1AddRoleResponse);
    rpc V1EditRole (V1EditRoleRequest) returns (V1EditRoleResponse);
    rpc V1GetRoles (V1GetRolesRequest) returns (V1GetRolesResponse);
    rpc V2GetRoles (V2GetRolesRequest) returns (V2GetRolesResponse);
    rpc V1GetRolesByPermissions (V1GetRolesByPermissionsRequest) returns (V1GetRolesResponse);
    rpc V1DeleteRole (V1DeleteRoleRequest) returns (V1DeleteRoleResponse);
    rpc V1AddPermissionsToRole (V1AddPermissionsToRoleRequest) returns (V1AddPermissionsToRoleResponse);
    rpc V1RemovePermissionsFromRole (V1RemovePermissionsFromRoleRequest) returns (V1RemovePermissionsFromRoleResponse);

    rpc V1AddUser (V1AddUserRequest) returns (V1AddUserResponse);
    rpc V1ChangeUserWarehouse (V1ChangeUserWarehouseRequest) returns (V1ChangeUserWarehouseResponse);
    rpc V1GetUsers (V1GetUsersRequest) returns (V1GetUsersResponse);
    rpc V2GetUsers (V1GetUsersRequest) returns (V2GetUsersResponse);
    rpc V1GetUsersInWarehouse (V1GetUsersInWarehouseRequest) returns (V1GetUsersInWarehouseResponse);
    rpc V1GetUserByLogin (V1GetUserByLoginRequest) returns (V1GetUserByLoginResponse);
    rpc V2GetUserByLogin (V2GetUserByLoginRequest) returns (V2GetUserByLoginResponse);
    rpc V1DeleteUser (V1DeleteUserRequest) returns (V1DeleteUserResponse);
    rpc V1AddRolesToUser (V1AddRolesToUserRequest) returns (V1AddRolesToUserResponse);
    rpc V1RemoveRolesFromUser (V1RemoveRolesFromUserRequest) returns (V1RemoveRolesFromUserResponse);

    rpc V1LoginByPassword (V1LoginByPasswordRequest) returns (V1LoginByPasswordResponse);
    rpc V1LoginById (V1LoginByIdRequest) returns (V1LoginByIdResponse);

    rpc V1GetAllUsersTaskTypes (V1GetAllUsersTaskTypesRequest) returns (V1GetAllUsersTaskTypesResponse);
    rpc V1GetUsersTaskTypesByUserIds (V1GetUsersTaskTypesByUserIdsRequest) returns (V1GetUsersTaskTypesByUserIdsResponse);
    rpc V1AddUserTaskType (V1AddUserTaskTypeRequest) returns (V1AddUserTaskTypeResponse);
    rpc V1EditUserTaskType (V1EditUserTaskTypeRequest) returns (V1EditUserTaskTypeResponse);
    rpc V1DeleteUserTaskType (V1DeleteUserTaskTypeRequest) returns (V1DeleteUserTaskTypeResponse);
    rpc V1GetUsersByTaskType (V1GetUsersByTaskTypeRequest) returns (V1GetUsersByTaskTypeResponse);

    rpc V1AddUserWarehouseEditPermissions (V1AddUserWarehouseEditPermissionsRequest) returns (V1AddUserWarehouseEditPermissionsResponse);
    rpc V1DeleteUserWarehouseEditPermissions (V1DeleteUserWarehouseEditPermissionsRequest) returns (V1DeleteUserWarehouseEditPermissionsResponse);
    rpc V1GetUserWarehouseEditPermissionsByUserId (V1GetUserWarehouseEditPermissionsByUserIdRequest) returns (V1GetUserWarehouseEditPermissionsByUserIdResponse);

    rpc V1SetEmployeeIsFired (V1SetEmployeeIsFiredRequest) returns (google.protobuf.Empty);
    rpc V1CreateUser (V1CreateUserRequest) returns (V1CreateUserResponse);

    rpc V1GetEmployeeInfo (V1GetEmployeeInfoRequest) returns (V1GetEmployeeInfoResponse) {
        option (google.api.http) = {
            post: "/v1/employee/info"
            body: "*"
        };
    }

    rpc V1GetEmployeeInfoByLoginInfo (V1GetEmployeeInfoByLoginRequest) returns (V1GetEmployeeInfoByLoginResponse) {
        option (google.api.http) = {
            post: "/v1/employee/info-by-login"
            body: "*"
        };
    }

    rpc V1GetAllEmploymentActions (google.protobuf.Empty) returns (V1GetAllEmploymentActionsResponse) {
        option (google.api.http) = {
          post: "/v1/employment/actions"
          body: "*"
        };
    };

    rpc V1SetDivisions (V1SetDivisionsRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
          post: "/v1/division/set"
          body: "*"
        };
    }

    rpc V1GetDivisionsByIds (V1GetDivisionsByIdsRequest) returns (V1GetDivisionsByIdsResponse) {
        option (google.api.http) = {
          post: "/v1/division/get"
          body: "*"
        };
    };

    rpc V1GetMapDivisionToWarehouse (V1GetMapDivisionToWarehouseRequest) returns (V1GetMapDivisionToWarehouseResponse) {
        option (google.api.http) = {
          post: "/v1/division/map-to-warehouse"
          body: "*"
        };
    };

    rpc V1GetDivisionDefaultWarehouses (google.protobuf.Empty) returns (V1GetDivisionDefaultWarehousesResponse) {
        option (google.api.http) = {
          post: "/v1/division/default-warehouses"
          body: "*"
        };
    };

    rpc V1AddTypeOfEmployment (V1AddTypeOfEmploymentRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
          post: "/v1/employment/type/add"
          body: "*"
        };
    }

    rpc V1EditTypeOfEmployment (V1EditTypeOfEmploymentRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
          post: "/v1/employment/type/edit"
          body: "*"
        };
    }

    rpc V1GetTypesOfEmployment (V1GetTypesOfEmploymentRequest) returns (V1GetTypesOfEmploymentResponse) {
        option (google.api.http) = {
          post: "/v1/employment/types"
          body: "*"
        };
    }

    rpc V1GetTypesOfEmploymentByGUIDs (V1GetTypesOfEmploymentByGUIDsRequest) returns (V1GetTypesOfEmploymentByGUIDsResponse) {
        option (google.api.http) = {
          post: "/v1/employment/by-guid"
          body: "*"
        };
    }

    rpc V2GetUsersTaskTypesByFilters (V2GetUsersTaskTypesByFiltersRequest) returns (V2GetUsersTaskTypesByFiltersResponse) {
        option (google.api.http) = {
          post: "/v2/user/task-type/get-by-filters"
          body: "*"
        };
    }

    rpc V3GetUsersTaskTypesByFilters (V3GetUsersTaskTypesByFiltersRequest) returns (V3GetUsersTaskTypesByFiltersResponse) {
        option (google.api.http) = {
            post: "/v3/user/task-type/get-by-filters"
            body: "*"
        };
    }

    rpc V2GetUsersTaskTypesByUserIds (V2GetUsersTaskTypesByUserIdsRequest) returns (V2GetUsersTaskTypesByUserIdsResponse) {
        option (google.api.http) = {
          post: "/v2/user/task-type/get"
          body: "*"
        };
    }

    rpc V3GetUsersTaskTypesByUserIds (V3GetUsersTaskTypesByUserIdsRequest) returns (V3GetUsersTaskTypesByUserIdsResponse) {
        option (google.api.http) = {
            post: "/v3/user/task-type/get"
            body: "*"
        };
    }

    rpc V2AddUserTaskTypes (V2AddUserTaskTypesRequest) returns (V2AddUserTaskTypesResponse) {
        option (google.api.http) = {
          post: "/v2/user/task-type/add"
          body: "*"
        };
    }

    rpc V1AddUserTaskSubTypes (V1AddUserSubTaskTypesRequest) returns (V1AddUserSubTaskTypesResponse) {
        option (google.api.http) = {
            post: "/v2/user/task-subtype/add"
            body: "*"
        };
    }

    rpc V3AddUsersTaskSubTypes (V3AddUsersTaskSubTypesRequest) returns (V3AddUsersTaskSubTypesResponse) {
        option (google.api.http) = {
            post: "/v3/user/task-subtype/add"
            body: "*"
        };
    }

    rpc V2EditUserTaskTypes (V2EditUserTaskTypesRequest) returns (V2EditUserTaskTypesResponse) {
        option (google.api.http) = {
          post: "/v2/user/task-type/edit"
          body: "*"
        };
    }

    rpc V3EditUserTaskTypes (V3EditUserTaskTypesRequest) returns (V3EditUserTaskTypesResponse) {
        option (google.api.http) = {
            post: "/v3/user/task-type/edit"
            body: "*"
        };
    }

    rpc V1EditUserSubTaskTypes (V1EditUserTaskSubTypesRequest) returns (V1EditUserTaskSubTypesResponse) {
        option (google.api.http) = {
            post: "/v2/user/task-subtype/edit"
            body: "*"
        };
    }

    rpc V3DeleteUserTaskTypes (V3DeleteUserTaskTypesRequest) returns (V3DeleteUserTaskTypesResponse) {
        option (google.api.http) = {
          post: "/v3/user/task-type/delete"
          body: "*"
        };
    }

    rpc V2DeleteUserTaskTypes (V2DeleteUserTaskTypesRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
          post: "/v2/user/task-type/delete"
          body: "*"
        };
    }

    rpc V1DeleteUserTaskSubTypes (V1DeleteUserTaskSubTypeRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/v2/user/task-subtype/delete"
            body: "*"
        };
    }

    rpc V3DeleteUsersTaskSubTypes (V3DeleteUsersTaskSubTypesRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/v3/users/task-subtypes/delete"
            body: "*"
        };
    }

    rpc V1SetPositions (V1SetPositionsRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
          post: "/v1/position/set"
          body: "*"
        };
    }

    rpc V1GetPositionsByIds (V1GetPositionsByIdsRequest) returns (V1GetPositionsByIdsResponse) {
        option (google.api.http) = {
          post: "/v1/position/get-by-ids"
          body: "*"
        };
    }

    rpc V1GetPositions (V1GetPositionsRequest) returns (V1GetPositionsResponse) {
        option (google.api.http) = {
          post: "/v1/position/get"
          body: "*"
        };
    }

    rpc V1MoveUser (V1MoveUserRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
          post: "/v1/user/move"
          body: "*"
        };
    }

    rpc V2AddUser (V2AddUserRequest) returns (V2AddUserResponse) {
        option (google.api.http) = {
          post: "/v2/user/add"
          body: "*"
        };
    }

    rpc V2EditUser (V2AddUserRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
          post: "/v2/user/edit"
          body: "*"
        };
    }

    rpc V2GetUserIDByGuid (V2GetUserIDByGuidRequest) returns (V2GetUserIDByGuidResponse) {
        option (google.api.http) = {
          post: "/v2/user/get-id-by-guid"
          body: "*"
        };
    }
    rpc V1GetCurrentWorkShift (google.protobuf.Empty) returns (V1WorkShift){
        option deprecated = true;
    }
    rpc V1GetListOfWorkShift (WorkShiftRequest) returns (WorkShifts){
        option deprecated = true;
    }
    rpc V1NewWorkShift (google.protobuf.Empty) returns (V1WorkShift){
        option deprecated = true;
    }
    rpc V1GetWorkShiftByCode (V1WorkShiftByCode) returns (V1WorkShift){
        option deprecated = true;
    }

    rpc V1GetCurrentTerminalSessionByUserID (UserTerminalSessionRequest) returns (ActiveTerminalSession);
    rpc V1GetCurrentTerminalSessionByMac (MacTerminalSessionRequest) returns (ActiveTerminalSession);
    rpc V1CloseCurrentTerminalSessionForUserID (CloseTerminalSessionRequest) returns (google.protobuf.Empty);

    rpc GetRoleRanks (google.protobuf.Empty) returns (GetRoleRanksResponse);

    rpc GetTerminalStatistics(GetTerminalStatisticsRequest) returns (GetTerminalStatisticsResponse);
}

message GetRoleRanksResponse {
    message Rank {
        int64 id = 1;
        string name = 2;
        int64 managed_by_role_id = 3;
    }
    repeated Rank ranks = 1;
}

message CloseTerminalSessionRequest {
    int64 userId = 1 [(gogoproto.moretags) = "validate:\"required,gt=0\""];
    int64 closedByUserId = 2 [(gogoproto.moretags) = "validate:\"omitempty,gt=0\""];
}

message MacTerminalSessionRequest {
    string mac = 1 [(gogoproto.moretags) = "validate:\"required\""];
}

message UserTerminalSessionRequest {
    int64 userId = 1 [(gogoproto.moretags) = "validate:\"required,gt=0\""];
}

message ActiveTerminalSession {
    string mac = 1;
    int64 userId = 2;
}

message UserTaskType {
    int64 user_id = 1;
    int64 task_type = 2;
}

message V1GetAllUsersTaskTypesRequest {
}

message V1GetAllUsersTaskTypesResponse {
    repeated UserTaskType user_task_types = 1;
}

message V1GetUsersTaskTypesByUserIdsRequest {
    repeated int64 user_ids = 1;
}

message V1GetUsersTaskTypesByUserIdsResponse {
    repeated UserTaskType user_task_types = 1;
}

message V1GetUsersByTaskTypeRequest {
    int64 task_type_id = 1 [(gogoproto.moretags) = "validate:\"required,gt=0\""];
    int32 page = 2 [(gogoproto.moretags) = "validate:\"required,gt=0\""];
    int32 page_size = 3 [(gogoproto.moretags) = "validate:\"required,gte=0\""];
    google.protobuf.StringValue search_string = 4;
}

message V1GetUsersByTaskTypeResponse {
    message User {
        int64 id = 1;
        string name = 2;
        string login = 3;
        int64 warehouse_id = 4;
        string first_name = 5;
        google.protobuf.StringValue middle_name = 6;
        google.protobuf.StringValue last_name = 7;
        google.protobuf.Timestamp birthday = 8;
        bool is_outsource = 9;
        string type_of_employment_id = 10;
        int64 action_type_id = 11;
        google.protobuf.Timestamp action_type_updated = 12;
        google.protobuf.StringValue employee_1c_guid = 13;
        google.protobuf.StringValue position_id = 14;
        google.protobuf.StringValue subdivision_id = 15;
        google.protobuf.StringValue division_id = 16;
        google.protobuf.StringValue employee_number = 17;
        google.protobuf.StringValue email = 18;
        google.protobuf.StringValue manager = 19;
        bool is_fired = 20;
        google.protobuf.Timestamp is_fired_at = 21;
        repeated int64 role_ids = 22;
        repeated int64 task_type_ids = 23;
    }
    repeated User users = 1;
    int64 total = 2;
}

message V1AddUserTaskTypeRequest {
    int64 user_id = 1;
    int64 task_type = 2;
    google.protobuf.Int64Value requesting_user_id = 3;
}

message V1AddUserTaskTypeResponse {
    int64 id = 1;
}

message V1EditUserTaskTypeRequest {
    int64 userId = 1;
    int64 task_type = 2;
    google.protobuf.Int64Value requesting_user_id = 3;
}

message V1EditUserTaskTypeResponse {
    bool success = 1;
}

message V1DeleteUserTaskTypeRequest {
    int64 userId = 1;
    google.protobuf.Int64Value requesting_user_id = 3;
}

message V1DeleteUserTaskTypeResponse {
    bool success = 1;
}

message V1RemoveRolesFromUserRequest {
    int64 user_id = 1;
    repeated int64 role_ids = 2;
    google.protobuf.Int64Value requesting_user_id = 3;
}

message V1RemoveRolesFromUserResponse {
    bool success = 1;
}

message V1AddRolesToUserRequest {
    int64 user_id = 1;
    repeated int64 role_ids = 2;
    google.protobuf.Int64Value requesting_user_id = 3;
}

message V1AddRolesToUserResponse {
    bool success = 1;
}

message V1DeleteUserRequest {
    int64 id = 1;
    google.protobuf.Int64Value user_id = 2;
}

message V1DeleteUserResponse {
    bool success = 1;
}

message V1GetUsersRequest {
    repeated int64 ids = 1;
    int32 page = 2;
    int32 page_size = 3;
    google.protobuf.StringValue search_string = 4;
    int64 warehouse_id = 5 [(gogoproto.moretags) = "validate:\"gte=0\""];
}

message V2GetUsersResponse {
    message User {
        int64 id = 1;
        string name = 2;
        string login = 3;
        int64 warehouse_id = 4;
        string first_name = 5;
        google.protobuf.StringValue middle_name = 6;
        google.protobuf.StringValue last_name = 7;
        google.protobuf.Timestamp birthday = 8;
        bool is_outsource = 9;
        string type_of_employment_id = 10;
        int64 action_type_id = 11;
        google.protobuf.Timestamp action_type_updated = 12;
        google.protobuf.StringValue employee_1c_guid = 13;
        google.protobuf.StringValue position_id = 14;
        google.protobuf.StringValue subdivision_id = 15;
        google.protobuf.StringValue division_id = 16;
        google.protobuf.StringValue employee_number = 17;
        google.protobuf.StringValue email = 18;
        google.protobuf.StringValue manager = 19;
        bool is_fired = 20;
        google.protobuf.Timestamp is_fired_at = 21;
        repeated int64 role_ids = 22;
    }
    repeated User users = 1;
    int64 total = 2;
}

message V1GetUsersResponse {
    message User {
        int64 id = 1;
        string name = 2;
        string login = 3;
        int64 warehouse_id = 4;
        repeated int64 role_ids = 5;
    }
    repeated User users = 1;
    int64 total = 2;
}

message V1GetUserByLoginRequest {
    string login = 1;
}

message V1GetUserByLoginResponse {
    int64 id = 1;
    string name = 2;
    string login = 3;
    int64 warehouse_id = 4;
    repeated int64 role_ids = 5;
}

message V2GetUserByLoginRequest {
    string login = 1;
}

message V2GetUserByLoginResponse {
    int64 id = 1;
    string name = 2;
    string login = 3;
    int64 warehouse_id = 4;
    repeated int64 role_ids = 5;
}

message V1GetUsersInWarehouseRequest {
    int64 warehouse_id = 1;
}

message V1GetUsersInWarehouseResponse {
    message User {
        int64 id = 1;
        string name = 2;
        string login = 3;
        int64 warehouse_id = 4;
        repeated int64 role_ids = 5;
    }
    repeated User users = 1;
}

message V1AddUserRequest {
    string name = 1;
    string login = 2;
    int64 warehouse_id = 3;
    google.protobuf.Int64Value user_id = 4;
}

message V1CreateUserRequest {
    google.protobuf.Int64Value user_id = 1;
    string name = 2;
    string login = 3;
    int64 warehouse_id = 4;
    google.protobuf.Int64Value requesting_user_id = 5;
}

message V2AddUserRequest { // такое название из за того что изменение имени приведет к нарушению котракта
                           string name = 1;
                           string login = 2 [(validate.rules).string.min_len = 2];
                           int64 warehouse_id = 3 [(validate.rules).int64.gt = 0];
                           google.protobuf.Int64Value user_id = 4; // who change user data
                           string first_name = 5 [(validate.rules).string.min_len = 2];
                           google.protobuf.StringValue middle_name = 6;
                           google.protobuf.StringValue last_name = 7;
                           google.protobuf.Timestamp birthday = 8 [(validate.rules).timestamp.required = false];
                           bool is_outsource = 9;
                           string type_of_employment_id = 10;
                           int64 action_type_id = 11 [(validate.rules).int64.gt = 0];
                           google.protobuf.Timestamp action_type_updated = 12 [(validate.rules).timestamp = {required: false}];
                           google.protobuf.StringValue employee_1c_guid = 13;
                           google.protobuf.StringValue position_id = 14;
                           google.protobuf.StringValue subdivision_id = 16;
                           google.protobuf.StringValue division_id = 18;
                           google.protobuf.StringValue employee_number = 20;
                           google.protobuf.StringValue email = 21;
                           google.protobuf.StringValue manager = 22;
                           google.protobuf.Int64Value id = 23; // may be null if its add request
                           repeated int64 role_ids = 24; // may be null if its add request
}

message V1CreateUserResponse {
    int64 user_id = 1;
}

message V1AddUserResponse {
    int64 user_id = 1;
}

message V2GetUserIDByGuidRequest {
    string employee_1c_guid = 1;
}

message V2GetUserIDByGuidResponse {
    int64 user_id = 1;
}

message V2AddUserResponse {
    int64 id = 1;
}

message V1ChangeUserWarehouseRequest {
    int64 user_id = 1;
    int64 warehouse_id = 2;
    google.protobuf.Int64Value requesting_user_id = 3;
}

message V1ChangeUserWarehouseResponse {
}

message V1RemovePermissionsFromRoleRequest {
    int64 role_id = 1;
    repeated int64 permission_ids = 2;
    google.protobuf.Int64Value user_id = 3;
}

message V1RemovePermissionsFromRoleResponse {
    bool success = 1;
}

message V1AddPermissionsToRoleRequest {
    int64 role_id = 1;
    repeated int64 permission_ids = 2;
    google.protobuf.Int64Value user_id = 3;
}

message V1AddPermissionsToRoleResponse {
    bool success = 1;
}

message V1DeleteRoleRequest {
    int64 id = 1;
    google.protobuf.Int64Value user_id = 2;
}

message V1DeleteRoleResponse {
    bool success = 1;
}

message V1GetRolesRequest {
    repeated int64 ids = 1;
}

message V1GetRolesResponse {
    message Role {
        int64 id = 1;
        string name = 2;
        string alias = 3;
        repeated int64 permission_ids = 4;
        int64 rank = 5;
    }
    repeated Role roles = 1;
}

message V2GetRolesRequest {
    repeated int64 ids = 1;
    repeated string aliases = 2;
    int64 limit = 3;
    int64 offset = 4;
}

message V2GetRolesResponse {
    message Role {
        int64 id = 1;
        string name = 2;
        string alias = 3;
        repeated int64 permission_ids = 4;
        int64 rank = 5;
    }
    repeated Role roles = 1;
    int32 count = 2;
}

message V1GetRolesByPermissionsRequest {
    repeated int64 permissionIds = 1;
}

message V1AddRoleRequest {
    string name = 1;
    string alias = 2;
    google.protobuf.Int64Value user_id = 3;
    int64 rank = 4;
}

message V1AddRoleResponse {
    int64 id = 1;
}

message V1EditRoleRequest {
    int64 id = 1;
    string name = 2;
    string alias = 3;
    google.protobuf.Int64Value user_id = 4;
    int64 rank = 5;
}

message V1EditRoleResponse {
    bool success = 1;
}

message V1EditPermissionRequest {
    int64 id = 1;
    string name = 2;
    string alias = 3;
    google.protobuf.Int64Value user_id = 4;
}

message V1EditPermissionResponse {
    bool success = 1;
}

message V1AddPermissionRequest {
    string name = 1;
    string alias = 2;
    google.protobuf.Int64Value user_id = 3;
}

message V1AddPermissionResponse {
    int64 id = 1;
}

message V1GetPermissionsRequest {
    repeated int64 ids = 1;
    int64 limit = 2;
    int64 offset = 3;
}

message V1GetPermissionsResponse {
    message Permission {
        int64 id = 1;
        string name = 2;
        string alias = 3;
    }
    repeated Permission permission = 1;
}

message V2GetPermissionsRequest {
    repeated int64 ids = 1;
    repeated string aliases = 2;
    int64 limit = 3;
    int64 offset = 4;
}

message V2GetPermissionsResponse {
    message Permission {
        int64 id = 1;
        string name = 2;
        string alias = 3;
    }
    repeated Permission permission = 1;
    int32 count = 2;
}

message V1DeletePermissionRequest {
    int64 id = 1;
    google.protobuf.Int64Value user_id = 2;
}

message V1DeletePermissionResponse {
    bool success = 1;
}

//#####################################

message GetEmployeeRequest {
    int64 id = 1;
}

message GetEmployeeResponse {
    string number = 1;
    string first_name = 2;
    string middle_name = 3;
    string last_name = 4;
    string login = 5;
    string email = 6;
    int64 warehouse_id = 7;
    int64 user_id = 8;
}

message BindTerminalRequest {
    string mac_address = 1;
    int64 user_id = 2;
    string client_version = 3;
}

message BindTerminalResponse {
}

message ReleaseTerminalRequest {
    string mac_address = 1;
}

message ReleaseTerminalResponse {
}

message ReleaseUserRequest {
    int64 user_id = 1;
    string mac_address = 2;
}

message ReleaseUserResponse {
}

message GetStoreTaskTypesRequest {
    int64 user_id = 1;
}

message GetStoreTaskTypesResponse {
    message StoreTaskType {
        int64 type_id = 1;
        string name = 2;
        string brief = 3;
        int64 user_id = 4;
        int64 task_group_id = 5;
    }

    repeated StoreTaskType store_task_types = 1;
}

message LoginRequest {
    string login = 1;
    string password = 2;
}

message LoginResponse {
    string token = 1;
}

message GetTerminalSessionsWithFilterRequest {
    google.protobuf.Int64Value user_id = 1;
    google.protobuf.StringValue mac_address = 2;
    google.protobuf.StringValue client_version = 3;
    google.protobuf.Timestamp login_timestamp_from = 4;
    google.protobuf.Timestamp login_timestamp_to = 5;
    google.protobuf.Timestamp logout_timestamp_from = 6;
    google.protobuf.Timestamp logout_timestamp_to = 7;
    google.protobuf.BoolValue only_active_sessions = 8;
    google.protobuf.Int64Value offset = 9;
    google.protobuf.Int64Value limit = 10;
}

message GetTerminalSessionsWithFilterResponse {
    message TerminalSession {
        int64 id = 1;
        int64 user_id = 2;
        string mac_address = 3;
        google.protobuf.Timestamp login_timestamp = 4;
        google.protobuf.Timestamp logout_timestamp = 5;
        string client_version = 6;
    }

    repeated TerminalSession terminal_sessions = 1;
    int64 total = 2;
}

message CreateUserByOneCRequest {
    google.protobuf.StringValue hiring_date = 1;
    google.protobuf.StringValue employee_number = 2;
    google.protobuf.StringValue first_name = 3;
    google.protobuf.StringValue middle_name = 4;
    google.protobuf.StringValue last_name = 5;
    google.protobuf.StringValue sub_division_code = 6;
    google.protobuf.StringValue position_code = 7;
    google.protobuf.StringValue shift = 8;
    google.protobuf.StringValue work_graphic_name = 9;
    google.protobuf.StringValue email = 10;
    google.protobuf.Int64Value apprentice = 11;
    google.protobuf.StringValue phone = 12;
    google.protobuf.Timestamp staff_movement_date = 13;
}

message CreateUserByOneCResponse {
    string error = 1;
}


message UpdateUserByOneCRequest {
    google.protobuf.StringValue hiring_date = 1;
    google.protobuf.StringValue employee_number = 2;
    google.protobuf.StringValue first_name = 3;
    google.protobuf.StringValue middle_name = 4;
    google.protobuf.StringValue last_name = 5;
    google.protobuf.StringValue sub_division_code = 6;
    google.protobuf.StringValue position_code = 7;
    google.protobuf.StringValue shift = 8;
    google.protobuf.StringValue work_graphic_name = 9;
    google.protobuf.StringValue email = 10;
    google.protobuf.Int64Value apprentice = 11;
    google.protobuf.StringValue phone = 12;
    google.protobuf.Timestamp staff_movement_date = 13;
    google.protobuf.Timestamp fired_date = 14;
}

message UpdateUserByOneCResponse {
    string error = 1;
}

message V1LoginByPasswordRequest {
    string login = 1;
    string password = 2;
}

message V1LoginByPasswordResponse {
    string token = 1;
    google.protobuf.Timestamp expiration_date = 2;
}

message V1LoginByIdRequest {
    int64 id = 1;
    google.protobuf.StringValue client_version = 2;
    google.protobuf.StringValue mac_address = 3;
}

message V1LoginByIdResponse {
    string token = 1;
    google.protobuf.Timestamp expiration_date = 2;
}

message V1AddUserWarehouseEditPermissionsRequest {
    int64 user_id = 1;
    repeated int64 warehouse_ids = 2;
    google.protobuf.Int64Value performer_id = 3;
}

message V1AddUserWarehouseEditPermissionsResponse {
}

message V1DeleteUserWarehouseEditPermissionsRequest {
    int64 user_id = 1;
    repeated int64 warehouse_ids = 2;
    google.protobuf.Int64Value performer_id = 3;
}

message V1DeleteUserWarehouseEditPermissionsResponse {
}

message V1GetUserWarehouseEditPermissionsByUserIdRequest {
    int64 user_id = 1;
}

message V1GetUserWarehouseEditPermissionsByUserIdResponse {
    int64 user_id = 1;
    repeated int64 warehouse_ids = 2;
}

message EmploymentAction {
    int64 id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
    string name = 2 [(gogoproto.jsontag) = "name", json_name = "name"];
    bool is_default = 3 [(gogoproto.jsontag) = "is_default", json_name = "is_default"];
    google.protobuf.Timestamp created_at = 4 [(gogoproto.jsontag) = "created_at", json_name = "created_at"];
}

message V1GetAllEmploymentActionsResponse {
    repeated EmploymentAction actions = 1 [(gogoproto.jsontag) = "actions", json_name = "actions"];
}

message V1AddTypeOfEmploymentRequest {
    string id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
    string company_name = 2 [(gogoproto.jsontag) = "company_name", json_name = "company_name"];
    bool is_outsource = 3 [(gogoproto.jsontag) = "is_outsource", json_name = "is_outsource"];
    bool is_active = 4 [(gogoproto.jsontag) = "is_active", json_name = "is_active"];
    google.protobuf.Int64Value user_id = 5 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
    string alias = 6 [(gogoproto.jsontag) = "alias", json_name = "alias"];
}

message V1EditTypeOfEmploymentRequest {
    string id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
    string company_name = 2 [(gogoproto.jsontag) = "company_name", json_name = "company_name"];
    bool is_outsource = 3 [(gogoproto.jsontag) = "is_outsource", json_name = "is_outsource"];
    bool is_active = 4 [(gogoproto.jsontag) = "is_active", json_name = "is_active"];
    google.protobuf.Int64Value user_id = 5 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
}

message V1GetTypesOfEmploymentRequest {
    google.protobuf.BoolValue is_outsource = 1 [(gogoproto.jsontag) = "is_outsource", json_name = "is_outsource"];
    google.protobuf.BoolValue is_active = 2 [(gogoproto.jsontag) = "is_active", json_name = "is_active"];
    string company_name_search_pattern = 3 [(gogoproto.jsontag) = "company_name_search_pattern", json_name = "company_name_search_pattern"];
    google.protobuf.UInt64Value offset = 4 [(gogoproto.jsontag) = "offset", json_name = "offset"];
    google.protobuf.UInt64Value limit = 5 [(gogoproto.jsontag) = "limit", json_name = "limit"];
}

message V1GetTypesOfEmploymentResponse {
    repeated TypeOfEmployment types_of_employment = 1 [(gogoproto.jsontag) = "types_of_employment", json_name = "types_of_employment"];
    uint64 total = 2 [(gogoproto.jsontag) = "total", json_name = "total"];
}

message TypeOfEmployment {
    string id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
    string company_name = 2 [(gogoproto.jsontag) = "company_name", json_name = "company_name"];
    bool is_outsource = 3 [(gogoproto.jsontag) = "is_outsource", json_name = "is_outsource"];
    bool is_active = 4 [(gogoproto.jsontag) = "is_active", json_name = "is_active"];
    google.protobuf.Timestamp created_at = 5 [(gogoproto.jsontag) = "created_at", json_name = "created_at"];
    google.protobuf.Timestamp update_at = 6 [(gogoproto.jsontag) = "update_at", json_name = "update_at"];
    string alias = 7 [(gogoproto.jsontag) = "alias", json_name = "alias"];
}

message V1GetTypesOfEmploymentByGUIDsRequest {
    repeated string guids = 1 [(validate.rules).repeated.min_items = 1];
}

message V1GetTypesOfEmploymentByGUIDsResponse {
    repeated TypeOfEmployment types_of_employment = 1 [(gogoproto.jsontag) = "types_of_employment", json_name = "types_of_employment"];
}

message V1SetDivisionsRequest {
    message Division {
        string id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        string parent_id = 2 [(gogoproto.jsontag) = "parent_id", json_name = "parent_id"];
        string division_name = 3 [(gogoproto.jsontag) = "division_name", json_name = "division_name"];
    }
    repeated Division divisions = 1 [(gogoproto.jsontag) = "divisions", json_name = "divisions"];
    google.protobuf.Int64Value user_id = 2 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
}

message V1GetMapDivisionToWarehouseRequest {
    google.protobuf.UInt64Value limit = 1 [(gogoproto.jsontag) = "limit", json_name = "limit"];
    google.protobuf.UInt64Value offset = 2 [(gogoproto.jsontag) = "offset", json_name = "offset"];
}

message V1GetMapDivisionToWarehouseResponse {
    message Division {
        string id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        int64 warehouse_id = 2 [(gogoproto.jsontag) = "warehouse_id", json_name = "warehouse_id"];
        string division_name = 3 [(gogoproto.jsontag) = "division_name", json_name = "division_name"];
    }
    repeated Division divisions = 1 [(gogoproto.jsontag) = "divisions", json_name = "divisions"];
    uint64 total = 2 [(gogoproto.jsontag) = "total", json_name = "total"];
}

message V1GetDivisionsByIdsRequest {
    repeated string ids = 1 [(gogoproto.jsontag) = "ids", json_name = "ids"];
}

message V1GetDivisionsByIdsResponse {
    message Division {
        string id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        string division_name = 2 [(gogoproto.jsontag) = "division_name", json_name = "division_name"];
        string parent_id = 3 [(gogoproto.jsontag) = "parent_id", json_name = "parent_id"];
    }
    repeated Division divisions = 1 [(gogoproto.jsontag) = "divisions", json_name = "divisions"];
}

message V2GetUsersTaskTypesByUserIdsRequest {
    repeated int64 user_ids = 1 [(gogoproto.jsontag) = "user_ids", json_name = "user_ids"];
}

message V3GetUsersTaskTypesByUserIdsRequest {
    repeated int64 user_ids = 1 [(gogoproto.jsontag) = "user_ids", json_name = "user_ids"];
}

message V2GetUsersTaskTypesByUserIdsResponse {
    message TaskType {
        int64 task_type_id = 1 [(gogoproto.jsontag) = "task_type_id", json_name = "task_type_id"];
        google.protobuf.UInt32Value priority = 2 [(gogoproto.jsontag) = "priority", json_name = "priority"];
    }
    message UserTaskTypes {
        int64 user_id = 1 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
        repeated TaskType task_types = 2 [(gogoproto.jsontag) = "task_types", json_name = "task_types"];
    }
    repeated UserTaskTypes users_task_types = 1 [(gogoproto.jsontag) = "users_task_types", json_name = "users_task_types"];
}

message V3GetUsersTaskTypesByUserIdsResponse {
    message TaskType {
        int64 task_type_id = 1 [(gogoproto.jsontag) = "task_type_id", json_name = "task_type_id"];
        google.protobuf.UInt32Value task_subtype_id = 2 [(gogoproto.jsontag) = "task_subtype_id", json_name = "task_subtype_id"];
        google.protobuf.UInt32Value priority = 3 [(gogoproto.jsontag) = "priority", json_name = "priority"];
        google.protobuf.UInt32Value sub_priority = 4 [(gogoproto.jsontag) = "sub_priority", json_name = "sub_priority"];
    }
    message UserTaskTypes {
        int64 user_id = 1 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
        repeated TaskType task_types = 2 [(gogoproto.jsontag) = "task_types", json_name = "task_types"];
    }
    repeated UserTaskTypes users_task_types = 1 [(gogoproto.jsontag) = "users_task_types", json_name = "users_task_types"];
}

message V2AddUserTaskTypesRequest {
    message TaskType {
        int64 task_type_id = 1 [(gogoproto.jsontag) = "task_type_id", json_name = "task_type_id"];
        google.protobuf.UInt32Value priority = 2 [(gogoproto.jsontag) = "priority", json_name = "priority"];
    }
    int64 user_id = 1 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
    repeated TaskType task_types = 2 [(gogoproto.jsontag) = "task_types", json_name = "task_types"];
    google.protobuf.Int64Value requesting_user_id = 3 [(gogoproto.jsontag) = "requesting_user_id", json_name = "requesting_user_id"];
}

message V1AddUserSubTaskTypesRequest {
    message TaskType {
        int64 task_subtype_id = 1 [(gogoproto.jsontag) = "task_subtype_id", json_name = "task_subtype_id"];
        int64 sub_priority = 2 [(gogoproto.jsontag) = "sub_priority", json_name = "sub_priority"];
    }
    int64 task_type_id = 1 [(gogoproto.jsontag) = "task_type_id", json_name = "task_type_id"];
    int64 user_id = 2 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
    repeated TaskType task_subtypes = 3 [(gogoproto.jsontag) = "task_subtypes", json_name = "task_subtypes"];
    google.protobuf.Int64Value requesting_user_id = 4 [(gogoproto.jsontag) = "requesting_user_id", json_name = "requesting_user_id"];
}

message V3AddUsersTaskSubTypesRequest {
    message User {
        int64 id = 1 [(validate.rules).int64.gt = 0];
        repeated TaskType task_types = 2;

        message TaskType {
            int64 id = 1 [(validate.rules).int64.gt = 0];
            int64 priority = 2 [(validate.rules).int64.gte = 0];
            repeated SubTaskType sub_task_types = 3;

            message SubTaskType {
                int64 id = 1 [(validate.rules).int64.gt = 0];
                int64 priority = 2 [(validate.rules).int64.gte = 0];
            }
        }
    }
    repeated User users = 1;
    google.protobuf.Int64Value requesting_user_id = 4 [(gogoproto.jsontag) = "requesting_user_id", json_name = "requesting_user_id"];
}

message V3AddUsersTaskSubTypesResponse {
}

message V2AddUserTaskTypesResponse {
    repeated int64 user_task_type_ids = 2 [(gogoproto.jsontag) = "user_task_type_ids", json_name = "user_task_type_ids"];
}

message V1AddUserSubTaskTypesResponse {
    repeated int64 user_task_subtype_ids = 2 [(gogoproto.jsontag) = "user_task_subtype_ids", json_name = "user_task_subtype_ids"];
}

message V2EditUserTaskTypesRequest {
    message TaskType {
        int64 task_type_id = 1 [(gogoproto.jsontag) = "task_type_id", json_name = "task_type_id"];
        google.protobuf.UInt32Value priority = 2 [(gogoproto.jsontag) = "priority", json_name = "priority"];
    }
    int64 user_id = 1 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
    repeated TaskType task_types = 2 [(gogoproto.jsontag) = "task_types", json_name = "task_types"];
    google.protobuf.Int64Value requesting_user_id = 3 [(gogoproto.jsontag) = "requesting_user_id", json_name = "requesting_user_id"];
}

message V3EditUserTaskTypesRequest {
    message SubTaskType {
        int64 task_subtype_id = 1;
        int64 sub_priority = 2;
    }

    message TaskType {
        int64 task_type_id = 1;
        google.protobuf.UInt32Value priority = 2;
        repeated SubTaskType task_subtypes = 3;
    }

    int64 user_id = 1;
    repeated TaskType task_types = 2;
    google.protobuf.Int64Value requesting_user_id = 4;
}

message V3EditUserTaskTypesResponse {
    repeated int64 user_task_type_ids = 1;
}

message V3DeleteUserTaskTypesRequest {
    int64 user_id = 1;
    google.protobuf.Int64Value requesting_user_id = 2;
}

message V3DeleteUserTaskTypesResponse {
}

message V1EditUserTaskSubTypesRequest {
    message SubTaskType {
        int64 task_subtype_id = 1 [(gogoproto.jsontag) = "task_subtype_id", json_name = "task_subtype_id"];
        int64 sub_priority = 2 [(gogoproto.jsontag) = "sub_priority", json_name = "sub_priority"];
    }
    int64 task_type = 1 [(gogoproto.jsontag) = "task_type", json_name = "task_type"];
    int64 user_id = 2 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
    repeated SubTaskType task_subtypes = 3 [(gogoproto.jsontag) = "task_subtypes", json_name = "task_subtypes"];
    google.protobuf.Int64Value requesting_user_id = 4 [(gogoproto.jsontag) = "requesting_user_id", json_name = "requesting_user_id"];
}

message V2EditUserTaskTypesResponse {
    repeated int64 user_task_type_ids = 2 [(gogoproto.jsontag) = "user_task_type_ids", json_name = "user_task_type_ids"];
}

message V1EditUserTaskSubTypesResponse {
    repeated int64 user_task_subtype_ids = 2 [(gogoproto.jsontag) = "user_task_subtype_ids", json_name = "user_task_subtype_ids"];
}

message V2DeleteUserTaskTypesRequest {
    int64 user_id = 1 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
    google.protobuf.Int64Value requesting_user_id = 2 [(gogoproto.jsontag) = "requesting_user_id", json_name = "requesting_user_id"];
}

message V1DeleteUserTaskSubTypeRequest {
    int64 user_id = 1 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
    int64 task_type_id = 2 [(gogoproto.jsontag) = "task_type_id", json_name = "tasks_type_id"];
    google.protobuf.Int64Value requesting_user_id = 3 [(gogoproto.jsontag) = "requesting_user_id", json_name = "requesting_user_id"];
    repeated int64 user_task_subtype_ids = 4 [(gogoproto.jsontag) = "user_task_subtype_ids", json_name = "user_task_subtype_ids"];
}

message V3DeleteUsersTaskSubTypesRequest {
    repeated User users = 1 [(gogoproto.jsontag) = "users", json_name = "users"];
    google.protobuf.Int64Value requesting_user_id = 3 [(gogoproto.jsontag) = "requesting_user_id", json_name = "requesting_user_id"];

    message User {
        int64 id = 1 [(gogoproto.jsontag) = "id", json_name = "id", (validate.rules).int64.gt = 0];
        repeated int64 task_type_ids = 2 [(gogoproto.jsontag) = "task_type_ids", json_name = "task_type_ids", (validate.rules).repeated.min_items = 1];
    }
}

message V1SetEmployeeIsFiredRequest {
    int64 id = 1;
    google.protobuf.Int64Value user_id = 2;
    google.protobuf.Timestamp employee_fire_date = 3 [(validate.rules).timestamp.required = true];
}

message V2GetUsersTaskTypesByFiltersRequest {
    google.protobuf.StringValue user_login_search_pattern = 1 [(gogoproto.jsontag) = "user_login_search_pattern", json_name = "user_login_search_pattern"];
    google.protobuf.Int64Value warehouse_id = 2 [(gogoproto.jsontag) = "warehouse_id", json_name = "warehouse_id"];
    repeated int64 user_task_type_ids = 3 [(gogoproto.jsontag) = "user_task_type_ids", json_name = "user_task_type_ids"];
    google.protobuf.UInt64Value limit = 4 [(gogoproto.jsontag) = "limit", json_name = "limit"];
    google.protobuf.UInt64Value offset = 5 [(gogoproto.jsontag) = "offset", json_name = "offset"];
}

message V3GetUsersTaskTypesByFiltersRequest {
    google.protobuf.StringValue user_login_search_pattern = 1 [(gogoproto.jsontag) = "user_login_search_pattern", json_name = "user_login_search_pattern"];
    google.protobuf.Int64Value warehouse_id = 2 [(gogoproto.jsontag) = "warehouse_id", json_name = "warehouse_id"];
    repeated int64 user_task_type_ids = 3 [(gogoproto.jsontag) = "user_task_type_ids", json_name = "user_task_type_ids"];
    google.protobuf.UInt64Value limit = 4 [(gogoproto.jsontag) = "limit", json_name = "limit"];
    google.protobuf.UInt64Value offset = 5 [(gogoproto.jsontag) = "offset", json_name = "offset"];
}

message V2GetUsersTaskTypesByFiltersResponse {
    message TaskType {
        int64 id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        google.protobuf.UInt32Value priority = 2 [(gogoproto.jsontag) = "priority", json_name = "priority"];
    }
    message User {
        int64 id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        string name = 2 [(gogoproto.jsontag) = "name", json_name = "name"];
        string login = 3 [(gogoproto.jsontag) = "login", json_name = "login"];
        int64 warehouse_id = 4 [(gogoproto.jsontag) = "warehouse_id", json_name = "warehouse_id"];
    }
    message UserTaskTypes {
        User user = 1 [(gogoproto.jsontag) = "user", json_name = "user"];
        repeated TaskType task_types = 2 [(gogoproto.jsontag) = "task_types", json_name = "task_types"];
    }
    repeated UserTaskTypes users_task_types = 1 [(gogoproto.jsontag) = "users_task_types", json_name = "users_task_types"];
    uint64 total = 2 [(gogoproto.jsontag) = "total", json_name = "total"];
}

message V3GetUsersTaskTypesByFiltersResponse {
    message TaskSubType {
        int64 id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        int64 priority = 2 [(gogoproto.jsontag) = "priority", json_name = "priority"];
    }
    message TaskType {
        int64 id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        google.protobuf.UInt32Value priority = 2 [(gogoproto.jsontag) = "priority", json_name = "priority"];
        repeated TaskSubType subtypes = 3 [(gogoproto.jsontag) = "subtypes", json_name = "subtypes"];
    }
    message User {
        int64 id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        string name = 2 [(gogoproto.jsontag) = "name", json_name = "name"];
        string login = 3 [(gogoproto.jsontag) = "login", json_name = "login"];
        int64 warehouse_id = 4 [(gogoproto.jsontag) = "warehouse_id", json_name = "warehouse_id"];
        bool is_fired = 5 [(gogoproto.jsontag) = "is_fired", json_name = "is_fired"];
    }
    message UserTaskTypes {
        User user = 1 [(gogoproto.jsontag) = "user", json_name = "user"];
        repeated TaskType task_types = 2 [(gogoproto.jsontag) = "task_types", json_name = "task_types"];
    }
    repeated UserTaskTypes users_task_types = 1 [(gogoproto.jsontag) = "users_task_types", json_name = "users_task_types"];
    uint64 total = 2 [(gogoproto.jsontag) = "total", json_name = "total"];
}

message V1SetPositionsRequest {
    message Position {
        string id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        string position_name = 2 [(gogoproto.jsontag) = "position_name", json_name = "position_name"];
    }
    repeated Position positions = 1 [(gogoproto.jsontag) = "positions", json_name = "positions"];
    google.protobuf.Int64Value user_id = 2 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
}

message V1GetPositionsByIdsRequest {
    repeated string ids = 1 [(gogoproto.jsontag) = "ids", json_name = "ids"];
}

message V1GetPositionsByIdsResponse {
    message Position {
        string id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        string position_name = 2 [(gogoproto.jsontag) = "position_name", json_name = "position_name"];
    }
    repeated Position positions = 1 [(gogoproto.jsontag) = "positions", json_name = "positions"];
}

message V1GetPositionsRequest {
    google.protobuf.UInt64Value limit = 1 [(gogoproto.jsontag) = "limit", json_name = "limit"];
    google.protobuf.UInt64Value offset = 2 [(gogoproto.jsontag) = "offset", json_name = "offset"];
}

message V1GetPositionsResponse {
    message Position {
        string id = 1 [(gogoproto.jsontag) = "id", json_name = "id"];
        string position_name = 2 [(gogoproto.jsontag) = "position_name", json_name = "position_name"];
    }
    repeated Position positions = 1 [(gogoproto.jsontag) = "positions", json_name = "positions"];
    uint64 total = 2 [(gogoproto.jsontag) = "total", json_name = "total"];
}

message V1MoveUserRequest {
    int64 user_id = 1 [(gogoproto.jsontag) = "user_id", json_name = "user_id"];
    google.protobuf.Timestamp transfer_date = 2 [(gogoproto.jsontag) = "transfer_date", json_name = "transfer_date"];
    string division_id = 3 [(gogoproto.jsontag) = "division_id", json_name = "division_id"];
    string subdivision_id = 4 [(gogoproto.jsontag) = "subdivision_id", json_name = "subdivision_id"];
    string position_id = 5 [(gogoproto.jsontag) = "position_id", json_name = "position_id"];
    google.protobuf.StringValue manager = 6 [(gogoproto.jsontag) = "manager", json_name = "manager"];
    google.protobuf.Int64Value requesting_user_id = 7 [(gogoproto.jsontag) = "requesting_user_id", json_name = "requesting_user_id"];
}

message V1WorkShift {
    int64 id = 1;
    string code = 2;
    google.protobuf.Timestamp created_at = 4 [(gogoproto.stdtime) = true, (gogoproto.nullable) = false];
    google.protobuf.Timestamp closed_at = 5 [(gogoproto.stdtime) = true];
}

message V1WorkShiftByCode {
    string code = 1 [(gogoproto.moretags) = "validate:\"required,uuid\""];
}

message WorkShifts {
    repeated V1WorkShift data = 1;
}

message WorkShiftRequest {
    uint64 limit = 1 [(gogoproto.moretags) = "validate:\"required,min=1,max=100\""];
    uint64 offset = 2 [(gogoproto.moretags) = "validate:\"gte=0\""];
}

message V1GetDivisionDefaultWarehousesResponse {
    message DivisionDefaultWarehouse {
        string division_id = 1 [(gogoproto.jsontag) = "division_id", json_name = "division_id"];
        string division_name = 2 [(gogoproto.jsontag) = "division_name", json_name = "division_name"];
        int64 warehouse_id = 3 [(gogoproto.jsontag) = "warehouse_id", json_name = "warehouse_id"];
    }
    repeated DivisionDefaultWarehouse divisions = 1 [(gogoproto.jsontag) = "divisions", json_name = "divisions"];
}

message V1GetEmployeeInfoRequest {
    int64 id = 1;
}

message V1GetEmployeeInfoResponse {
    string number = 1;
    string first_name = 2;
    string middle_name = 3;
    string last_name = 4;
    string login = 5;
    string email = 6;
    int64 warehouse_id = 7;
    int64 user_id = 8;
    bool is_fired = 9;
    repeated string permissions = 10;
    repeated int64 configurable_warehouses = 11;
}

message V1GetEmployeeInfoByLoginRequest {
    string login = 1;
}

message V1GetEmployeeInfoByLoginResponse {
    string number = 1;
    string first_name = 2;
    string middle_name = 3;
    string last_name = 4;
    string login = 5;
    string email = 6;
    int64 warehouse_id = 7;
    int64 user_id = 8;
    bool is_fired = 9;
    repeated string permissions = 10;
    repeated int64 configurable_warehouses = 11;
}

message GetTerminalStatisticsRequest{
    repeated int64 warehouse_ids = 1;
    google.protobuf.Timestamp from_date = 2;
    bool only_active = 3;
}

message GetTerminalStatisticsResponse{
    repeated Statistic Statistics = 1;

    message Statistic{
        int64 warehouse_id = 1;
        string client_version = 2;
        string mac = 3;
        int32 logins_count = 4;
    }

}